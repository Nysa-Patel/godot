(function(g){var window=this;'use strict';var sn=function(q){q.publish("cardstatechange",q.B5()&&q.Rj()?1:0)},S2=function(q,J){var t=g.qZ(J),x=t?J:arguments;
for(t=t?0:1;t<x.length;t++){if(q==null)return;q=q[x[t]]}return q},t9B=function(q){var J=g.dn(q);
q=g.LL(q);return new g.QI(J.x,J.y,q.width,q.height)},xeQ=function(q,J,t){var x=x===void 0?{}:x;
var k;return k=g.gL(q,J,function(){g.ye(k);t.apply(q,arguments)},x)},Zh=function(q){q=g.x5(q);
delete Dh[q];g.GQ(Dh)&&nd&&nd.stop()},iEV=function(){nd||(nd=new g.wG(function(){kcB()},20));
var q=nd;q.isActive()||q.start()},kcB=function(){var q=g.vt();
g.KN(Dh,function(J){HEa(J,q)});
g.GQ(Dh)||iEV()},QD=function(q,J,t,x){g.CK.call(this);
if(!Array.isArray(q)||!Array.isArray(J))throw Error("Start and end parameters must be arrays");if(q.length!=J.length)throw Error("Start and end points must be the same length");this.D=q;this.L=J;this.duration=t;this.V=x;this.coords=[];this.progress=this.N=0;this.Y=null},HEa=function(q,J){J<q.startTime&&(q.endTime=J+q.endTime-q.startTime,q.startTime=J);
q.progress=(J-q.startTime)/(q.endTime-q.startTime);q.progress>1&&(q.progress=1);q.N=1E3/(J-q.Y);q.Y=J;vfN(q,q.progress);q.progress==1?(q.B=0,Zh(q),q.onFinish(),q.ll()):q.isPlaying()&&q.Mp()},vfN=function(q,J){typeof q.V==="function"&&(J=q.V(J));
q.coords=Array(q.D.length);for(var t=0;t<q.D.length;t++)q.coords[t]=(q.L[t]-q.D[t])*J+q.D[t]},RA0=function(q,J){g.lJ.call(this,q);
this.coords=J.coords;this.x=J.coords[0];this.y=J.coords[1];this.z=J.coords[2];this.duration=J.duration;this.progress=J.progress;this.fps=J.N;this.state=J.B},Bj=function(q,J,t,x,k){QD.call(this,J,t,x,k);
this.element=q},rMu=function(q,J,t,x,k){if(J.length!=2||t.length!=2)throw Error("Start and end points must be 2D");
Bj.call(this,q,J,t,x,k)},C1t=function(q){return Math.pow(q,3)},Ypo=function(q){return 3*q*q-2*q*q*q},NEQ=function(q){g.K.call(this);
this.D=q||window;this.B=[]},AE=function(q){return q.baseUrl||null},$C=function(q,J){return g.AK(g.eU(q,J),function(t){return!!t})},bEu=function(q,J,t){function x(iB){var qP=iB.hovercardButton;
if(!qP)return null;qP=qP.subscribeButtonRenderer;if(!qP)return null;var rq=H(qP.unsubscribedButtonText),G=H(qP.subscribedButtonText);if(qP.subscribed){var yn=H(qP.subscriberCountWithUnsubscribeText);var nX=H(qP.subscriberCountText)}else yn=H(qP.subscriberCountText),nX=H(qP.subscriberCountWithSubscribeText);var fX=null;if(iB.signinEndpoint){fX=S2(iB,"signinEndpoint","webNavigationEndpointData","url");if(!fX){var SP,rQ;fX=(rQ=g.f((SP=qP.signInEndpoint)==null?void 0:SP.commandMetadata,g.E8))==null?void 0:
rQ.url}if(!fX)return null}return rq&&(G||fX)?{subscribed:qP.subscribed,subscribeText:rq,subscribeCount:yn,unsubscribeText:G,unsubscribeCount:nX,enabled:qP.enabled,signinUrl:fX,classic:iB.useClassicSubscribeButton}:null}
function k(iB){if(iB){var qP=[],rq=iB.videoId;rq&&qP.push("v="+rq);(rq=iB.playlistId)&&qP.push("list="+rq);(iB=iB.startTimeSeconds)&&qP.push("t="+iB);return"/watch?"+qP.join("&")}}
function H(iB){if(!iB)return null;var qP=iB.simpleText;return qP?qP:iB.runs?g.eU(iB.runs,function(rq){return rq.text}).join(""):null}
J=J.endscreenElementRenderer;if(!J)return null;var v=J.style,r=J.endpoint||{},C=null,Y=null,N=!1,b=null,m=null,O=null,F=null,y=!1,p=null,n=null,D=null,h=null,X=null,d=null;if(v==="VIDEO")g.f(r,g.Xk)?C=g.f(r,g.Xk).url:(d=g.f(r,g.aq),C=k(d)),Y=!1,b=q,J.thumbnailOverlays?(N=J.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,m=H(N.text),N=N.style==="LIVE"):m=H(J.videoDuration);else if(v==="PLAYLIST")g.f(r,g.Xk)?C=g.f(r,g.Xk).url:(d=g.f(r,g.aq),C=k(d)),Y=!1,b=q,O=H(J.playlistLength);else if(v===
"CHANNEL"){if(y=S2(r,"browseEndpoint","browseId"))F=y,C="/channel/"+F;Y=!1;b="new";(y=!!J.isSubscribe)?p=x(J):n=H(J.subscribersText)}else v==="WEBSITE"?((D=S2(r,"urlEndpoint","url"))&&(C=D),Y=!0,b="new",D=J.icon.thumbnails[0].url):v==="CREATOR_MERCHANDISE"&&(J.productPrice&&(h=H(J.productPrice)),J.additionalFeesText&&(X=H(J.additionalFeesText)),(Y=S2(r,"urlEndpoint","url"))&&(C=Y),Y=!0,b="new");q=S2(J,"title","accessibility","accessibilityData","label");var z=J.endpoint?J.endpoint.clickTrackingParams:
null,u="";if(J.metadata){var x4=H(J.metadata);x4&&(u=x4)}return{id:"element-"+t,type:v,title:H(J.title),metadata:u,callToAction:H(J.callToAction),Yd:J.image,iconUrl:D,left:Number(J.left),width:Number(J.width),top:Number(J.top),aspectRatio:Number(J.aspectRatio),startMs:Math.floor(Number(J.startMs)),endMs:Math.floor(Number(J.endMs)),videoDuration:m,hh:N,playlistLength:O,channelId:F,subscribeButton:p,subscribersText:n,isSubscribe:y,targetUrl:C||null,OA:Y,sessionData:z?{itct:z}:null,NH8:b,pw:q?q:null,
isPlaceholder:J.isPlaceholder,impressionUrls:$C(J.impressionUrls||[],AE),M5:$C(J.hovercardShowUrls||[],AE),clickUrls:$C(r.loggingUrls||[],AE),visualElement:g.gK(J.trackingParams),productPrice:h,additionalFeesText:X,watchEndpoint:d||null}},meP=function(q,J){var t={startMs:Math.floor(Number(q.startMs)),
impressionUrls:$C(q.impressionUrls||[],AE),elements:$C(q.elements||[],function(x,k){return bEu(J,x,k)})};
q.trackingParams&&(t.visualElement=g.gK(q.trackingParams));return t},OEQ=function(q){g.bw.call(this,q);
this.Y=this.endscreen=null;this.D={};this.N={};this.V=this.C=null;this.W=[];this.B=null;this.nC=!0;this.L=0;q=q.U();this.X=g.I2(q)||g.XO(q);this.events=new g.hp(this);g.W(this,this.events);this.events.S(this.player,g.J8("creatorendscreen"),this.onCueRangeEnter);this.events.S(this.player,g.t8("creatorendscreen"),this.onCueRangeExit);this.events.S(this.player,"resize",this.vK);this.events.S(window,"focus",this.RZ_);this.load();var J=g.G_("STYLE");(g.d7("HEAD")[0]||document.body).appendChild(J);this.addOnDisposeCallback(function(){g.xT(J)});
J.sheet&&(J.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),J.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},FKV=function(q){return q.player.getVideoData().R7?"current":q.X?"new":"current"},Id=function(q){return q.player.U().playerStyle==="creator-endscreen-editor"},Efo=function(q){var J=q.player.getVideoData(),t=J.videoId;
q.Y&&q.Y.abort();t={method:"POST",onFinish:function(k){var H=q.Y=null;k.status===200&&(k=k.responseText,k.substring(0,3)===")]}"&&(k=k.substring(3),H=JSON.parse(k),H=meP(H,FKV(q))));hE(q,H)},
urlParams:{v:t},withCredentials:!0};q.X&&(t.urlParams.ptype="embedded");var x=J.R4;x&&(t.postParams={ad_tracking:x});if(J=g.p3S(J))if(J=g.ut(J),J=g.fT(J))q.Y=g.sK(J,t)},hE=function(q,J,t){t=t===void 0?!0:t;
q.player.Fl("creatorendscreen");q.C&&(q.C.dispose(),q.C=null,q.V.dispose(),q.V=null);for(var x=g.M(Object.values(q.D)),k=x.next();!k.done;k=x.next())k.value.dispose();q.D={};q.N={};q.W.length>0&&(q.W.forEach(function(r){r.dispose()}),q.W.length=0);
q.B&&(g.v1(q.B,"ytp-ce-element-show"),q.B.setAttribute("aria-hidden","true"));q.L=0;if((q.endscreen=J)&&J.elements){t&&cMu(q);t=[];x=new g.aH(J.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});t.push(x);q.player.U().D||(q.C=new g.l({j:"div",J:"ytp-ce-shadow"}),g.I8(q.player,q.C.element,4),q.V=new g.qR(q.C,200));for(x=0;x<J.elements.length;++x){k=J.elements[x];var H=M9Q(q,k);if(H){q.D[k.id]=H;q.N[k.id]=k;g.I8(q.player,H.element,4);var v=new g.aH(k.startMs,k.endMs,{id:"ytp-ce-element-"+
k.id,namespace:"creatorendscreen"});t.push(v);of0(q,H,k)}else g.IF(new g.LP("buildEndscreenElement null",k))}q.player.Ln(t);q.vK()}},cMu=function(q){var J=g.pD(),t=g.sH();
t&&J&&q.endscreen.visualElement&&g.zD(g.LD)(void 0,t,J,q.endscreen.visualElement)},M9Q=function(q,J){var t=null;
switch(J.type){case "VIDEO":q={j:"div",MW:["ytp-ce-element","ytp-ce-video"],Z:{tabindex:"0","aria-label":J.pw||"","aria-hidden":"true"},T:[{j:"div",J:"ytp-ce-element-shadow"},{j:"div",J:"ytp-ce-covering-image",Z:XI(J)},{j:"div",J:"ytp-ce-covering-shadow-top"},{j:"a",J:"ytp-ce-covering-overlay",Z:{href:Pj(q,J.targetUrl),tabindex:"-1"},T:[{j:"div",MW:["ytp-ce-video-title","ytp-webkit-ellipsis"],Z:{dir:g.ON(J.title||"")},D$:J.title},{j:"div",J:J.hh?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
D$:J.videoDuration||void 0}]}]};t=new g.l(q);break;case "PLAYLIST":q={j:"div",MW:["ytp-ce-element","ytp-ce-playlist"],Z:{tabindex:"0","aria-label":J.pw||"","aria-hidden":"true"},T:[{j:"div",J:"ytp-ce-element-shadow"},{j:"div",J:"ytp-ce-covering-image",Z:XI(J)},{j:"div",J:"ytp-ce-covering-shadow-top"},{j:"a",J:"ytp-ce-covering-overlay",Z:{href:Pj(q,J.targetUrl),tabindex:"-1"},T:[{j:"div",MW:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],Z:{dir:g.ON(J.title||"")},D$:J.title},{j:"div",J:"ytp-ce-playlist-count",
T:[{j:"div",J:"ytp-ce-playlist-icon"},{j:"div",J:"ytp-ce-playlist-count-text",D$:J.playlistLength||void 0}]}]}]};t=new g.l(q);break;case "CHANNEL":t={j:"div",MW:["ytp-ce-element","ytp-ce-channel",J.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],Z:{tabindex:"0","aria-label":J.pw||"","aria-hidden":"true"},T:[{j:"div",J:"ytp-ce-element-shadow"},{j:"div",J:"ytp-ce-expanding-overlay",T:[{j:"div",J:"ytp-ce-expanding-overlay-hider"},{j:"div",J:"ytp-ce-expanding-overlay-background"},{j:"div",J:"ytp-ce-expanding-overlay-content",
T:[{j:"div",J:"ytp-ce-expanding-overlay-body",T:[{j:"div",J:"ytp-ce-expanding-overlay-body-padding",T:[{j:"a",MW:["ytp-ce-channel-title","ytp-ce-link"],Z:{href:Pj(q,J.targetUrl),target:"_blank",tabindex:"-1",dir:g.ON(J.title||"")},D$:J.title},J.subscribeButton?{j:"div",J:"ytp-ce-subscribe-container",T:[{j:"div",J:"ytp-ce-channel-subscribe"}]}:"",J.subscribersText?{j:"div",J:"ytp-ce-channel-subscribers-text",D$:J.subscribersText}:"",J.metadata?{j:"div",MW:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],D$:J.metadata}:""]}]}]}]},{j:"div",J:"ytp-ce-expanding-image",Z:XI(J)}]};t=new g.l(t);var x=g.ed(document,"div","ytp-ce-channel-subscribe",t.element)[0];if(J.subscribeButton&&J.channelId){g.iI(x,"ytp-ce-subscribe-button");if(q.player.U().D){var k=null;var H=J.sessionData.itct}else k="endscreen",H=null;k=new g.uw(J.subscribeButton.subscribeText,J.subscribeButton.subscribeCount,J.subscribeButton.unsubscribeText,J.subscribeButton.unsubscribeCount,!!J.subscribeButton.enabled,!!J.subscribeButton.classic,
J.channelId,!!J.subscribeButton.subscribed,k,H,q.player,!1);x.appendChild(k.element);q.W.push(k)}break;case "WEBSITE":q={j:"div",MW:["ytp-ce-element","ytp-ce-website"],Z:{tabindex:"0","aria-label":J.pw||"","aria-hidden":"true"},T:[{j:"div",J:"ytp-ce-element-shadow"},{j:"div",J:"ytp-ce-expanding-overlay",T:[{j:"div",J:"ytp-ce-expanding-overlay-hider"},{j:"div",J:"ytp-ce-expanding-overlay-background"},{j:"div",J:"ytp-ce-expanding-overlay-content",T:[{j:"div",J:"ytp-ce-expanding-overlay-body",T:[{j:"div",
J:"ytp-ce-expanding-overlay-body-padding",T:[{j:"div",J:"ytp-ce-website-title",Z:{dir:g.ON(J.title||"")},D$:J.title},{j:"div",J:"ytp-ce-website-metadata",D$:J.metadata},{j:"a",MW:["ytp-ce-website-goto","ytp-ce-link"],Z:{href:Pj(q,J.targetUrl),target:"_blank",tabindex:"-1"},D$:J.callToAction}]}]}]}]},{j:"div",J:"ytp-ce-expanding-image",Z:XI(J)},{j:"div",J:"ytp-ce-expanding-icon",Z:gft(J.iconUrl)}]};t=new g.l(q);break;case "CREATOR_MERCHANDISE":t="",J.productPrice&&(t={j:"div",J:"ytp-ce-merchandise-price-container",
T:[{j:"div",J:"ytp-ce-merchandise-price",D$:J.productPrice}]},J.additionalFeesText&&t.T.push({j:"div",J:"ytp-ce-merchandise-additional-fees",D$:J.additionalFeesText})),q={j:"div",MW:["ytp-ce-element","ytp-ce-merchandise"],Z:{tabindex:"0","aria-label":J.pw||"","aria-hidden":"true"},T:[{j:"div",J:"ytp-ce-element-shadow"},{j:"div",J:"ytp-ce-expanding-overlay",T:[{j:"div",J:"ytp-ce-expanding-overlay-hider"},{j:"div",J:"ytp-ce-expanding-overlay-background"},{j:"div",J:"ytp-ce-expanding-overlay-content",
T:[{j:"div",J:"ytp-ce-expanding-overlay-body",T:[{j:"div",J:"ytp-ce-expanding-overlay-body-padding",T:[{j:"div",J:"ytp-ce-merchandise-title",Z:{dir:g.ON(J.title||"")},D$:J.title},t,{j:"div",J:"ytp-ce-merchandise-metadata",D$:J.metadata},{j:"a",MW:["ytp-ce-merchandise-goto","ytp-ce-link"],Z:{href:Pj(q,J.targetUrl),target:"_blank",tabindex:"-1"},D$:J.callToAction}]}]}]}]},{j:"div",J:"ytp-ce-expanding-image",Z:XI(J)},{j:"div",J:"ytp-ce-merchandise-invideo-cta-container",T:[{j:"div",J:"ytp-ce-merchandise-invideo-cta",
D$:J.callToAction||void 0}]}]},t=new g.l(q)}J.isPlaceholder&&g.iI(t.element,"ytp-ce-placeholder");return t},XI=function(q){if(q.Yd)var J=q.Yd.thumbnails;
return gft(J?J[J.length-1].url:null)},gft=function(q){return q?{style:"background-image: url("+q+")"}:{}},of0=function(q,J,t){function x(C){C&&(J.listen("blur",function(){C.style.display!="none"&&q.nC&&C.focus()}),J.S(C,"focus",H),J.S(C,"blur",v))}
function k(C){q.L+=C;q.L>0?(g.iI(J.element,"ytp-ce-force-expand"),Un(q,t.id,!0)):(g.v1(J.element,"ytp-ce-force-expand"),g.v1(J.element,"ytp-ce-element-hover"),Un(q,t.id,!1))}
function H(){k(1)}
function v(){k(-1)}
J.listen("mouseenter",function(){yM0(q,J,t)});
J.listen("mouseleave",function(){pzB(q,J,t)});
q.player.U().D||J.listen("click",function(){g.iI(J.element,"ytp-ce-element-hover")});
J.listen("click",function(C){sTQ(q,t,C)});
J.listen("keypress",function(C){sTQ(q,t,C)});
J.listen("focus",function(){yM0(q,J,t)});
J.listen("blur",function(){pzB(q,J,t)});
J.listen("touchstart",function(){yM0(q,J,t)});
var r=g.Lq("ytp-ce-expanding-overlay-hider",J.element);r&&J.S(r,"touchstart",function(C){C.stopPropagation();g.v1(J.element,"ytp-ce-element-hover");g.v1(J.element,"ytp-ce-force-expand")});
J.listen("keydown",function(C){q.nC=C.keyCode===9&&!C.shiftKey});
x(g.Lq("ytp-sb-subscribe",J.element));x(g.Lq("ytp-sb-unsubscribe",J.element));J.listen("focus",H);J.listen("blur",v)},sTQ=function(q,J,t){if(J.targetUrl&&(!t||t.type!=="keypress"||t.keyCode===13)){for(var x=t.target;x&&!g.ki(x,"ytp-ce-element");){g.ki(x,"subscribe-label")&&Spa(q,J);
if(g.ki(x,"ytp-ce-channel-subscribe"))return;x=x.parentElement||null}if(!x||g.ki(x,"ytp-ce-element-hover")){t.preventDefault();t.stopPropagation();if(x=q.D[J.id])pzB(q,x,J),x.element.blur();if(t.ctrlKey||t.metaKey||J.NH8==="new")Spa(q,J),q.player.sendVideoStatsEngageEvent(17,void 0),q.player.pauseVideo(),t=g.ut(Pj(q,J.targetUrl)),t=g.fT(t),g.Wl(t,void 0,J.sessionData);else{var k=g.ww(q.player.U())||q.player.getVideoData().R7,H=function(){var v=Pj(q,J.targetUrl),r=J.sessionData,C=J.watchEndpoint,Y=
g.xm(v);k&&Y&&(Y.v||Y.list)?q.player.g3(Y.v,r,Y.list,!1,void 0,C||void 0):g.K4(v,r)};
Spa(q,J,function(){q.player.sendVideoStatsEngageEvent(17,H)})}}}},Pj=function(q,J){q=q.player.U();
if(J){if(J.startsWith("//"))return q.protocol+":"+J;if(J.startsWith("/"))return g.tQ(q)+J}else return"";return J},yM0=function(q,J,t){g.ki(J.element,"ytp-ce-element-hover")||(t.type==="VIDEO"||t.type==="PLAYLIST"?g.iI(J.element,"ytp-ce-element-hover"):q.player.U().D?(new g.wG(function(){g.iI(J.element,"ytp-ce-element-hover")},200)).start():g.iI(J.element,"ytp-ce-element-hover"),Ti(q,t.M5),Un(q,t.id,!0))},pzB=function(q,J,t){g.v1(J.element,"ytp-ce-element-hover");
g.v1(J.element,"ytp-ce-force-expand");Un(q,t.id,!1)},Un=function(q,J,t){q.C&&(t?q.V.show():q.V.hide());
for(var x=g.M(Object.keys(q.D)),k=x.next();!k.done;k=x.next())k=k.value,k!==J&&g.rf(q.D[k].element,"ytp-ce-element-shadow-show",t)},Ti=function(q,J,t){function x(){H||(k++,k===J.length&&(v.stop(),t&&t()))}
if(!J||J.length===0||Id(q))t&&t();else{J=DeQ(q,J);var k=0,H=!1,v=new g.wG(function(){H=!0;t&&t()},1E3,q);
v.start();for(q=0;q<J.length;q++)g.T0(J[q],x)}},Spa=function(q,J,t){Ti(q,J.clickUrls,t);
(q=g.sH())&&J.OA&&g.kX(q,J.visualElement)},DeQ=function(q,J){var t=q.player.getVideoData().clientPlaybackNonce;
q=q.player.getCurrentTime().toFixed(2);t={CPN:t,AD_CPN:t,MT:q};q=[];for(var x=0;x<J.length;x++)q.push(nfx(J[x],t));return q},nfx=function(q,J){return q.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(t){var x=unescape(t);
x=x.substring(1,x.length-1);return J[x]?escape(J[x]):t})},ZEu=function(q){return typeof q==="string"?q:""},j2=function(q,J,t){for(var x in J)if(J[x]===q)return q;
return t},QTB=function(q,J,t,x){this.value=q;
this.target=J;this.showLinkIcon=t;this.B=x},Kd=function(q){return q.value?q.value:null},Wj=function(q){if(!q)return null;
var J=g.ut(ZEu(q.value));J=g.fT(J);if(!J)return null;var t=j2(q.target,BEQ,"current");if(t==null)q=null;else{var x=q.show_link_icon;q=new QTB(J,t,x==="true"||x==="false"?x==="true":!0,q.pause_on_navigation!=null?q.pause_on_navigation:!0)}return q},AMx=function(q,J,t){this.type=q;
this.trigger=J;this.url=t},hAZ=function(q){if(!q)return null;
var J=j2(q.type,$eP),t=j2(q.trigger,IoQ);q=q.url;q=Array.isArray(q)&&q.length?q[0]:q;q=Wj(q?q:null);return J?new AMx(J,t,q):null},XzB=function(q,J,t,x,k){this.id=q;
this.type=J;this.style=t;this.data=k;this.action=x||[]},P1x=function(q,J){return g.m0(q.action,J)},Uea=function(q,J){this.context=q;
this.B=J},TE5=function(q){return q.customMessage?dz("div","iv-card-message",q.customMessage):""},fd=function(q,J){q="background-image: url("+q+");";
var t=[];J&&t.push(J);return{j:"div",J:"iv-card-image",Z:{style:q},T:t}},jT0=function(q){if(!q.metaInfo||q.metaInfo.length===0)return"";
var J=[];q=g.M(q.metaInfo);for(var t=q.next();!t.done;t=q.next())J.push(dz("li","",t.value));return{j:"ul",J:"iv-card-meta-info",T:J}},dz=function(q,J,t){J?typeof J==="string"?J={"class":J}:Array.isArray(J)&&(J={"class":J.join(" ")}):J={};
J.dir=g.ON(t);return{j:q,Z:J,D$:t}},KKN=function(q){if(!q.customMessage)return"";
var J=["iv-card-action","iv-card-primary-link"],t={};q.Gx&&(J.push("iv-card-action-icon"),t.style="background-image: url("+q.Gx+");");t.dir=g.ON(q.customMessage);var x=[{j:"span",D$:q.customMessage}];q.showLinkIcon&&(x.push("\u00a0"),x.push({j:"span",J:"iv-card-link-icon"}));return{j:"div",MW:J,Z:t,T:x}},e2=function(q,J,t,x){if(x){J=g.M(J);
for(var k=J.next();!k.done;k=J.next())q.B(k.value,x,t.id,t.sessionData,t.s9.click,5)}},WKo=function(q,J){this.merchant=q;
this.price=J},dex=function(q){var J;
(J=q)&&!(J=q.length>1?q.charAt(0)==="/"&&q.charAt(1)!=="/":q==="/")&&(J=q.replace(/^(https?:)?\/\//,"").split("/",1),J=!J||J.length<1||!J[0]?[]:J[0].toLowerCase().split(".").reverse(),J=J[0]==="com"&&J[1]==="youtube"||J[0]==="be"&&J[1]==="youtu");return J?q.indexOf("/redirect?")===-1:!1},foN=function(q,J){return J?J:dex(q)?"current":"new"},Ld=function(q,J){g.K.call(this);
var t=this;this.element=q;this.context=J;this.TM=!1;this.LC=new Map;this.Jl=new Map;this.context.K.addEventListener(g.J8("annotations_module"),function(x){(x=t.LC.get(x))&&x.apply(t)});
this.context.K.addEventListener(g.t8("annotations_module"),function(x){(x=t.Jl.get(x))&&x.apply(t)})},lS=function(q,J,t,x,k,H,v){q.context.B.listen(J,"click",function(r){q.zf(t,x,k,H||[],v||0,r)});
q.context.B.listen(J,"touchstart",function(){q.TM=!1});
q.context.B.listen(J,"touchmove",function(){q.TM=!0})},eAt=function(q){var J;
return((J=g.f(q,g.Xk))==null?0:J.url)?g.f(q,g.Xk).url:(q=g.f(q,g.aq))&&q.videoId?(J="/watch?v="+q.videoId,q.playlistId&&(J+="&list="+q.playlistId),q.index&&(J+="&index="+q.index),q.startTimeSeconds&&(J+="&t="+q.startTimeSeconds),J):null},uS=function(q,J,t){return{AC:(q.impressionLoggingUrlsV2s||[]).map(function(x){return x.baseUrl||""}),
click:(t.loggingUrls||[]).map(function(x){return x.baseUrl||""}),
close:(J.dismissLoggingUrlsV2s||[]).map(function(x){return x.baseUrl||""}),
It:(J.impressionLoggingUrlsV2s||[]).map(function(x){return x.baseUrl||""}),
S5:(J.clickLoggingUrlsV2s||[]).map(function(x){return x.baseUrl||""})}},LKP=function(q,J,t){Ld.call(this,J,t);
var x=this;this.K=q;this.eventId=null;this.iy=this.zM=this.Yo=this.C=this.isInitialized=!1;this.cards=[];this.kZ=this.W=this.F_=this.V=this.NW=this.B=null;this.nC=[];this.s4=this.L=this.a7=this.cj=null;this.N=0;this.Qw=new g.wG(function(){},t.lX.Zw?4E3:3E3);
g.W(this,this.Qw);this.gm=new g.wG(function(){});
g.W(this,this.gm);this.xZ=new Uea(t,function(k,H,v,r,C,Y){lS(x,k,H,v,r,C,Y)});
this.X=new g.l({j:"div",J:"iv-drawer",Z:{id:"iv-drawer"},T:[{j:"div",J:"iv-drawer-header",Z:{"aria-role":"heading"},T:[{j:"span",J:"iv-drawer-header-text"},{j:"button",MW:["iv-drawer-close-button","ytp-button"],Z:{"aria-label":"Hide cards",tabindex:"0"}}]},{j:"div",J:"iv-drawer-content"}]});g.W(this,this.X);this.Y=this.X.element;this.GM=new g.qR(this.X,330);g.W(this,this.GM);this.BK=g.Lq("iv-drawer-header-text",this.Y);this.D=g.Lq("iv-drawer-content",this.Y);this.addCueRange(0,t.videoData.lengthSeconds*
1E3,"",function(){x.Yo&&wz(x,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(x.Yo=x.C)&&VD(x)});
this.qW=new g.hp(this);g.W(this,this.qW);this.K.addEventListener("videodatachange",this.HX.bind(this))},loa=function(q,J){J=J.data;
J.autoOpenMs&&q.addCueRange(J.autoOpenMs,0x8000000000000,"",function(){wz(q,"YOUTUBE_DRAWER_AUTO_OPEN")});
J.autoCloseMs&&q.addCueRange(J.autoCloseMs,0x8000000000000,"",function(){VD(q)});
var t=J.headerText;g.ir(q.BK,t);q.W&&q.W.setAttribute("title",t);J.eventId&&(q.eventId=J.eventId);q.cj=g.gK(J.trackingParams);q.L=g.gK(J.closeTrackingParams);q.a7=g.gK(J.iconTrackingParams)},uvD=function(q,J){var t=J.cardId?J.cardId:"cr:"+q.N,x=q.K.U().experiments.a8("enable_error_corrections_infocard_web_client");
if(!J.content&&J.teaser.simpleCardTeaserRenderer&&x){var k=J.teaser.simpleCardTeaserRenderer,H=J.icon?J.icon.infoCardIconRenderer:null;J={id:t,timestamp:q.N,type:"simple",teaserText:g.OL(k.message),teaserDurationMs:Number(J.cueRanges[0].teaserDurationMs),startMs:Number(J.cueRanges[0].startCardActiveMs),autoOpen:!!J.autoOpen,sessionData:{},sponsored:!1,s9:{},m5:null,SS:k.trackingParams?g.gK(k.trackingParams):null,a7:H&&H.trackingParams?g.gK(H.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
Gx:null,title:"",customMessage:"",url:null,onClickCommand:k.onTapCommand||null};zi(q,J)}else{var v;if((v=J.content)==null?0:v.simpleCardContentRenderer){if(!J.cueRanges.length)return;H=(k=J.content)==null?void 0:k.simpleCardContentRenderer;k=J.teaser.simpleCardTeaserRenderer;var r=J.icon?J.icon.infoCardIconRenderer:null;J={id:t,timestamp:q.N,type:"simple",teaserText:g.OL(k.message),teaserDurationMs:Number(J.cueRanges[0].teaserDurationMs),startMs:Number(J.cueRanges[0].startCardActiveMs),autoOpen:!!J.autoOpen,
sessionData:Gi(q,t,J,H),sponsored:!1,s9:uS(H,k,H.command),m5:H.trackingParams?g.gK(H.trackingParams):null,SS:k.trackingParams?g.gK(k.trackingParams):null,a7:r&&r.trackingParams?g.gK(r.trackingParams):null,imageUrl:ad(H.image.thumbnails,290).url,displayDomain:H.displayDomain?g.OL(H.displayDomain):null,showLinkIcon:!!H.showLinkIcon,Gx:null,title:H.title?g.OL(H.title):"",customMessage:H.callToAction?g.OL(H.callToAction):"",url:g.f(H.command,g.Xk).url?Wj({pause_on_navigation:!q.context.videoData.isLivePlayback,
target:"new",value:g.f(H.command,g.Xk).url}):null,onClickCommand:null};zi(q,J)}else{var C;if((C=J.content)==null?0:C.collaboratorInfoCardContentRenderer){if(!J.cueRanges.length)return;k=(H=J.content)==null?void 0:H.collaboratorInfoCardContentRenderer;H=J.teaser.simpleCardTeaserRenderer;r=J.icon?J.icon.infoCardIconRenderer:null;J={id:t,timestamp:q.N,type:"collaborator",teaserText:g.OL(H.message),teaserDurationMs:Number(J.cueRanges[0].teaserDurationMs),startMs:Number(J.cueRanges[0].startCardActiveMs),
autoOpen:!!J.autoOpen,sessionData:Gi(q,t,J,k),sponsored:!1,s9:uS(k,H,k.endpoint),m5:k.trackingParams?g.gK(k.trackingParams):null,SS:H.trackingParams?g.gK(H.trackingParams):null,a7:r&&r.trackingParams?g.gK(r.trackingParams):null,channelId:g.f(k.endpoint,g.s$).browseId,customMessage:k.customText?g.OL(k.customText):null,profileImageUrl:ad(k.channelAvatar.thumbnails,290).url,title:k.channelName?g.OL(k.channelName):"",metaInfo:[k.subscriberCountText?g.OL(k.subscriberCountText):""],url:Wj({pause_on_navigation:!q.context.videoData.isLivePlayback,
target:"new",value:g.f(k.endpoint,g.s$).canonicalBaseUrl?g.f(k.endpoint,g.s$).canonicalBaseUrl:"/channel/"+g.f(k.endpoint,g.s$).browseId}),onClickCommand:null};zi(q,J)}else{var Y;if((Y=J.content)==null?0:Y.playlistInfoCardContentRenderer){if(!J.cueRanges.length)return;k=(r=J.content)==null?void 0:r.playlistInfoCardContentRenderer;H=J.teaser.simpleCardTeaserRenderer;r=J.icon?J.icon.infoCardIconRenderer:null;J={id:t,timestamp:q.N,type:"playlist",teaserText:g.OL(H.message),teaserDurationMs:Number(J.cueRanges[0].teaserDurationMs),
startMs:Number(J.cueRanges[0].startCardActiveMs),autoOpen:!!J.autoOpen,sessionData:Gi(q,t,J,k),sponsored:!1,s9:uS(k,H,k.action),m5:k.trackingParams?g.gK(k.trackingParams):null,SS:H.trackingParams?g.gK(H.trackingParams):null,a7:r&&r.trackingParams?g.gK(r.trackingParams):null,AS:ad(k.playlistThumbnail.thumbnails,258).url,customMessage:k.customMessage?g.OL(k.customMessage):null,playlistVideoCount:g.OL(k.playlistVideoCount),title:k.playlistTitle?g.OL(k.playlistTitle):"",metaInfo:[k.channelName?g.OL(k.channelName):
"",k.videoCountText?g.OL(k.videoCountText):""],url:Wj({pause_on_navigation:!q.context.videoData.isLivePlayback,target:"new",value:eAt(k.action)}),onClickCommand:null};zi(q,J)}else{var N;if((N=J.content)==null?0:N.videoInfoCardContentRenderer){if(!J.cueRanges.length)return;var b;k=(b=J.content)==null?void 0:b.videoInfoCardContentRenderer;H=J.teaser.simpleCardTeaserRenderer;r=J.icon?J.icon.infoCardIconRenderer:null;J={id:t,timestamp:q.N,type:"video",teaserText:g.OL(H.message),teaserDurationMs:Number(J.cueRanges[0].teaserDurationMs),
startMs:Number(J.cueRanges[0].startCardActiveMs),autoOpen:!!J.autoOpen,sessionData:Gi(q,t,J,k),sponsored:!1,s9:uS(k,H,k.action),m5:k.trackingParams?g.gK(k.trackingParams):null,SS:H.trackingParams?g.gK(H.trackingParams):null,a7:r&&r.trackingParams?g.gK(r.trackingParams):null,AS:ad(k.videoThumbnail.thumbnails,258).url,videoDuration:k.lengthString?g.OL(k.lengthString):null,customMessage:k.customMessage?g.OL(k.customMessage):null,title:k.videoTitle?g.OL(k.videoTitle):"",metaInfo:[k.channelName?g.OL(k.channelName):
"",k.viewCountText?g.OL(k.viewCountText):""],isLiveNow:!!k.badge,url:Wj({pause_on_navigation:!q.context.videoData.isLivePlayback,target:"new",value:eAt(k.action)}),onClickCommand:null};zi(q,J)}}}}}q.N++},ad=function(q,J){for(var t=-1,x=-1,k=0;k<q.length;k++){if(q[k].height===J||q[k].width===290)return q[k];
((q[k].height||0)<J||(q[k].width||0)<290)&&(t<0||(q[t].height||0)<(q[k].height||0)||(q[t].width||0)<(q[k].width||0))?t=k:((q[k].height||0)>=J||(q[k].width||0)>=290)&&(x<0||(q[x].height||0)>(q[k].height||0)||(q[x].width||0)>(q[k].width||0))&&(x=k)}return q[x>=0?x:t]},Gi=function(q,J,t,x){return{feature:t.feature?t.feature:"cards",
src_vid:q.context.videoData.videoId,annotation_id:J,ei:q.context.videoData.eventId||"",itct:x.trackingParams||""}},V9N=function(q,J){if(J=wzQ(q,J))J===q.B&&(q.B=null),q.K.removeCueRange(J.G_.id),g.xT(J.J1),g.MZ(q.cards,J),q.Qp(),qo(q)},wz=function(q,J,t){if(!q.C){q.GM.show();
q.NW=new g.wG(function(){g.iI(q.context.K.getRootNode(),g.Vr.IV_DRAWER_OPEN)},0);
q.NW.start();q.qW.S(q.D,"mousewheel",function(v){q.Qw.start();v.preventDefault();v=v||window.event;var r=0;v.type=="MozMousePixelScroll"?r=0==(v.axis==v.HORIZONTAL_AXIS)?v.detail:0:window.opera?r=v.detail:r=v.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?v.wheelDeltaY/-30:v.wheelDeltaY/-1.2:v.wheelDelta/-1.6:v.wheelDeltaY/-3;if(v=r)q.D.scrollTop+=v});
q.C=!0;var x=g.sH();x&&q.cj&&q.L&&g.tl(x,[q.cj,q.L]);J={TRIGGER_TYPE:J};for(var k=g.M(q.cards),H=k.next();!H.done;H=k.next())H=H.value,H.f9||(H.f9=!0,zA5(q.context.logger,H.G_.s9.AC,J)),x&&g.tl(x,[H.G_.m5]);sn(q.K);t&&(q.V=new g.wG(function(){q.F_=q.W;q.kZ.focus()},330),q.V.start())}},VD=function(q){q.C&&(q.GM.hide(),g.Zw(q.qW),g.v1(q.context.K.getRootNode(),g.Vr.IV_DRAWER_OPEN),q.C=!1,sn(q.K),q.V&&q.V.stop(),q.V=new g.wG(function(){q.F_&&(q.F_.focus(),q.F_=null)},330),q.V.start())},GcV=function(q){g.H1(q.by(),
[g.Vr.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.I8(q.K,q.Y,5);q.k5();q.W=g.Lq("ytp-cards-button",q.K.getRootNode());q.kZ=g.Lq("iv-drawer-close-button",q.Y);q.isInitialized=!0},aoP=function(q){q.nC.push(g.xL("iv-teaser-shown",q.s5,q));
q.nC.push(g.xL("iv-teaser-hidden",q.u_C,q));q.nC.push(g.xL("iv-teaser-clicked",q.nZ,q));q.iy=!0},qBN=function(q,J){var t;
return J.onClickCommand&&((t=g.f(J.onClickCommand,g.BIa))==null?void 0:t.targetId)==="engagement-panel-error-corrections"?(q.s4=J,!0):!1},JcQ=function(q,J){q.s4=J;
var t=q.K.getVideoData();if(!t)return!1;t=g.n6(t);if(t==null?0:t.markersMap)for(var x,k=0;((x=t)==null?void 0:x.markersMap.length)>k;k++){var H=void 0,v=(H=t)==null?void 0:H.markersMap[k];if(v.key==="ERROR_CORRECTION_MARKERS"&&(H=void 0,(v=(H=v.value)==null?void 0:H.markers)&&v.length>0))return x=void 0,J.startMs=((x=g.f(v[0],g.gCh))==null?void 0:x.timeRangeStartMillis)||0,q.s4=null,!0}return!1},zi=function(q,J){if(!qBN(q,J)||JcQ(q,J)){var t=t00(q,J);
if(t){var x={G_:J,J1:t.element,f9:!1};if(J.onClickCommand)q.K.G("web_infocards_teaser_show_logging_fix")&&(q.iy||aoP(q),V9N(q,J.id),t=q.findLastIndex(x),g.nN(q.cards,t,0,x));else{q.isInitialized||GcV(q);V9N(q,J.id);var k=q.findLastIndex(x);g.nN(q.cards,k,0,x);t.er(q.D,k);q.Qp()}J.autoOpen?q.addCueRange(J.startMs,0x8000000000000,J.id,function(){q.C||(q.B=x,qo(q),xHD(q,x),wz(q,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(t=q.context.K.getCurrentTime()*1E3,t<5E3&&t>J.startMs&&kjD(q,x),q.addCueRange(J.startMs,
J.startMs+1,J.id,function(){kjD(q,x)}),qo(q))}}},t00=function(q,J){switch(J.type){case "simple":q=q.xZ;
var t=J.displayDomain?{j:"div",J:"iv-card-image-text",D$:J.displayDomain}:void 0;var x=KKN(J);t={j:"div",MW:["iv-card"],T:[{j:"a",J:"iv-click-target",Z:{href:J.url?Kd(J.url)||"":""},T:[fd(J.imageUrl,t),{j:"div",J:"iv-card-content",T:[dz("h2",void 0,J.title),x]}]}]};t=new g.l(t);e2(q,g.fq("iv-click-target",t.element),J,J.url);J=t;break;case "collaborator":q=q.xZ;t={j:"div",MW:["iv-card","iv-card-channel"],T:[{j:"a",MW:["iv-click-target"],Z:{href:Kd(J.url)||"","data-ytid":J.channelId},T:[fd(J.profileImageUrl),
{j:"div",J:"iv-card-content",T:[TE5(J),{j:"h2",J:"iv-card-primary-link",D$:J.title},jT0(J)]}]}]};t=new g.l(t);e2(q,g.fq("iv-click-target",t.element),J,J.url);J=t;break;case "playlist":q=q.xZ;t={j:"div",MW:["iv-card","iv-card-playlist"],T:[{j:"a",J:"iv-click-target",Z:{href:Kd(J.url)||""},T:[fd(J.AS,{j:"div",J:"iv-card-image-overlay",T:[{j:"span",J:"iv-card-playlist-video-count",D$:J.playlistVideoCount}]}),{j:"div",J:"iv-card-content",T:[TE5(J),dz("h2","iv-card-primary-link",J.title),jT0(J)]}]}]};
t=new g.l(t);e2(q,g.fq("iv-click-target",t.element),J,J.url);J=t;break;case "productListing":q=q.xZ;var k=J.offers.length!=0;t=["iv-card"];x="";var H=KKN(J);k&&(t.push("iv-card-product-listing"),x="iv-card-primary-link",H=J.offers[0],k=[],H.price&&k.push({j:"div",J:"iv-card-offer-price",D$:H.price}),H.merchant&&k.push({j:"div",J:"iv-card-offer-merchant",D$:H.merchant}),H={j:"div",T:k});k=J.url?Kd(J.url)||"":"";t={j:"div",MW:t,Z:{tabindex:"0"},T:[{j:"a",MW:["iv-card-image","iv-click-target"],Z:{style:"background-image: url("+
J.imageUrl+");",href:k,"aria-hidden":"true",tabindex:"-1"}},{j:"div",J:"iv-card-content",T:[J.sponsored?{j:"div",J:"iv-card-sponsored",T:["Sponsored",{j:"div",J:"iv-ad-info-container",T:[{j:"div",J:"iv-ad-info",D$:"{{adInfo}}"},{j:"div",J:"iv-ad-info-icon-container",T:[{j:"div",J:"iv-ad-info-icon"},{j:"div",J:"iv-ad-info-callout"}]}]}]}:"",{j:"a",J:"iv-click-target",Z:{href:k},T:[dz("h2",x,J.title),H]}]}]};t=new g.l(t);x=g.G_("span");g.ir(x,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
t.LD(x,"adInfo");e2(q,g.fq("iv-click-target",t.element),J,J.url);J=t;break;case "video":q=q.xZ;x=J.videoDuration?{j:"span",J:"iv-card-video-duration",D$:J.videoDuration}:void 0;H=J.isLiveNow?{j:"span",MW:["yt-badge","yt-badge-live"],D$:"LIVE NOW"}:null;k={j:"div",MW:["iv-card","iv-card-video"],T:[{j:"a",J:"iv-click-target",Z:{href:((t=J.url)==null?void 0:Kd(t))||""},T:[fd(J.AS,x),{j:"div",J:"iv-card-content",T:[TE5(J),dz("h2","iv-card-primary-link",J.title),jT0(J),H]}]}]};t=new g.l(k);e2(q,g.fq("iv-click-target",
t.element),J,J.url);J=t;break;default:return null}return J},i2B=function(q){if(q.B)return q.B.G_.type==="productListing";
if(q.K.G("enable_wn_infocards")){var J;return!((J=q.cards)==null||!J.length)&&g.Lo(q.cards,function(t){return t.G_.type==="productListing"})}return g.Lo(q.cards,function(t){return t.G_.type==="productListing"})},qo=function(q){g.rf(q.K.getRootNode(),"ytp-cards-shopping-active",i2B(q))},kjD=function(q,J){if(!g.ki(q.K.getRootNode(),"ytp-cards-teaser-shown")){if(q.B!==J){var t=g.sH(),x=q.B?q.B.G_.a7:q.a7;
t&&x&&g.xX(t,[x]);q.B=J;qo(q)}if(t=q.isInitialized)t=q.by().style.display=="none";t||(t=q.context.K.getPlayerState(),x=t===0&&q.context.K.getCurrentTime()===0,t=!(t===1||t===3||x));t||J.G_.teaserDurationMs&&q.K.pG(!0,{teaserText:J.G_.teaserText,durationMs:J.G_.teaserDurationMs,onClickCommand:J.G_.onClickCommand});q.gm.isActive()||((!q.C||!q.Qw.isActive()&&q.zM)&&xHD(q,J),q.gm.start(910+J.G_.teaserDurationMs))}},xHD=function(q,J){q.X.ly?(J=new QD([0,
q.D.scrollTop],[0,J.J1.offsetTop],600,Ypo),q.context.C.listen(J,"animate",function(t){q.D.scrollTop=t.y}),q.context.C.listen(J,"finish",function(t){q.D.scrollTop=t.y}),J.play()):(q.X.g7(!0),q.D.scrollTop=J.J1.offsetTop,q.X.g7(!1))},J_=function(q){return q.B&&q.B.G_?q.B.G_:q.cards[0]&&q.cards[0].G_?q.cards[0].G_:null},wzQ=function(q,J){return g.m0(q.cards,function(t){return t.G_.id===J})},t_=function(q,J,t){Ld.call(this,q,J);
this.annotation=t;this.isActive=!1},H2Q=function(q){var J=q.annotation.data;
"start_ms"in J&&"end_ms"in J&&q.addCueRange(Number(J.start_ms),Number(J.end_ms),q.annotation.id,function(){q.show()},function(){q.hide()})},xq=function(q,J,t){t_.call(this,q,J,t);
this.D=null;this.L=!1;this.C=null;this.Y=!1;this.B=this.N=this.V=null},vDu=function(q,J){var t=t===void 0?0:t;
var x=t9B(J).width;g.KL(J,x);t=new rMu(J,[x,J.offsetTop],[x-x-t,J.offsetTop],200,C1t);g.W(q,t);q.context.C.listen(t,"begin",function(){g.lP(J,!0)});
t.play()},Cuo=function(q,J){if(J.channel_name){var t=q.createElement({j:"div",
MW:["iv-branding-context-name"],D$:J.channel_name}),x=q.createElement({j:"div",MW:["iv-branding-context-subscribe"]}),k=J.standalone_subscribe_button_data;k&&(q.B=new g.uw(k.subscribeText,k.subscribeCount,k.unsubscribeText,k.unsubscribeCount,!!k.enabled,!!k.classic,J.channel_id,!!k.subscribed,k.feature,J.session_data.itct,q.context.K,!1),q.B.er(x));var H=q.createElement({j:"div",MW:["iv-branding-context-subscribe-caret"]}),v=q.createElement({j:"div",MW:["branding-context-container-inner"]});v.appendChild(H);
v.appendChild(t);v.appendChild(x);g.lP(v,!1);var r=q.createElement({j:"div",MW:["branding-context-container-outer"]});r.appendChild(v);g.h5(r,"right",J.image_width+"px");g.q0(q.by(),r);q.C=new g.wG(function(){Rsx(q,v,r)},500);
g.W(q,q.C);q.context.B.listen(q.by(),"mouseover",function(){rc5(q,v,r,H,J.image_height)});
q.context.B.listen(q.by(),"mouseout",function(){q.C.start()})}},rc5=function(q,J,t,x,k){q.C.stop();
if(!q.Y){var H=g.LL(J);q.B||(J.style.width=g.jL(H.width,!0),t.style.width=g.jL(H.width,!0));g.h5(x,"top",H.height-Math.max(Math.min(H.height,k)/2+10,20)+"px");g.h5(x,"right","1px");q.Y=!0;g.lP(J,!0);q.V=new g.wG(function(){g.iI(this.by(),"iv-branding-active")},0,q);
q.V.start()}},Rsx=function(q,J,t){g.v1(q.by(),"iv-branding-active");
q.N=new g.wG(function(){g.lP(J,!1);q.B||(t.style.width=g.jL(0,!0))},250);
q.N.start();q.Y=!1},YBZ=function(q,J,t,x,k,H,v){this.B=q;
this.C=J;this.lX=t;this.videoData=x;this.logger=k;this.K=H;this.D=v},NlB=function(q,J,t){t_.call(this,q,J,t);
var x=this;this.W=this.isCollapsed=this.X=!1;this.N=5E3;this.D=this.C=this.B=this.Y=null;this.L=this.createElement({j:"div",MW:["iv-promo-contents"]});this.V=new g.wG(function(){x.B.setAttribute("aria-hidden","true");g.lP(x.C,!1);g.lP(x.D,!0)},700,this);
g.W(this,this.V)},mHu=function(q){var J=q.annotation.data;
if(q.annotation.style==="cta")var t=6;else if(q.annotation.style==="video"||q.annotation.style==="playlist")t=7;q.N=J.collapsedelay_ms||q.N;var x=["iv-promo","iv-promo-inactive"];q.by().setAttribute("aria-hidden","true");q.by().setAttribute("aria-label","Promotion");q.by().tabIndex=0;var k=q.annotation.z0(),H=J.image_url;if(H){var v=q.createElement({j:"div",MW:["iv-promo-img","iv-click-target"]});H=q.createElement({j:"img",Z:{src:H,"aria-hidden":"true"}});v.appendChild(H);J.video_duration&&!J.is_live?
(H=q.createElement({j:"span",J:"iv-promo-video-duration",D$:J.video_duration}),v.appendChild(H)):J.playlist_length&&(H=q.createElement({j:"span",J:"iv-promo-playlist-length",D$:J.playlist_length.toString()}),v.appendChild(H));k&&lS(q,v,k,q.annotation.id,J.session_data,void 0,t)}k?(H=q.createElement({j:"a",J:"iv-promo-txt"}),g.VL(H,Kd(k)),q.B=H):q.B=q.createElement({j:"div",J:"iv-promo-txt"});switch(q.annotation.style){case "cta":case "website":var r=q.createElement({j:"p",T:[{j:"strong",D$:J.text_line_1}]});
var C=q.createElement({j:"p",T:[{j:"span",J:"iv-promo-link",D$:J.text_line_2}]});if(H=J.text_line_3){x.push("iv-promo-website-card-cta-redesign");var Y=q.createElement({j:"button",MW:["iv-promo-round-expand-icon","ytp-button"]});H=q.createElement({j:"button",MW:["iv-button","iv-promo-button"],T:[{j:"span",J:"iv-button-content",D$:H}]});var N=q.createElement({j:"div",J:"iv-promo-button-container"});N.appendChild(H);k&&lS(q,q.by(),k,q.annotation.id,J.session_data,void 0,t)}g.iI(q.B,"iv-click-target");
k&&lS(q,q.B,k,q.annotation.id,J.session_data,void 0,t);break;case "playlist":case "video":r=q.createElement({j:"p",T:[{j:"span",D$:J.text_line_1}]}),C=q.createElement({j:"p",T:[{j:"strong",D$:J.text_line_2}]}),J.is_live&&(r=C,C=q.createElement({j:"span",MW:["yt-badge","iv-promo-badge-live"],D$:"LIVE NOW"})),g.iI(q.B,"iv-click-target"),k&&lS(q,q.B,k,q.annotation.id,J.session_data,void 0,t),x.push("iv-promo-video")}r&&q.B.appendChild(r);C&&q.B.appendChild(C);q.L.appendChild(q.B);N&&q.L.appendChild(N);
t=q.createElement({j:"div",J:"iv-promo-actions"});q.D=q.createElement({j:"button",MW:["iv-promo-expand","ytp-button"]});q.D.title="Expand";q.context.B.listen(q.D,"click",function(b){b2N(q,5E3,b)});
t.appendChild(q.D);g.lP(q.D,!1);q.context.B.listen(q.by(),"mouseover",q.vD,q);q.context.B.listen(q.by(),"mouseout",q.Gl,q);q.context.B.listen(q.by(),"touchend",function(b){b2N(q,5E3,b)});
q.C=q.createElement({j:"button",MW:["iv-promo-close","ytp-button"]});q.C.title="Close";q.context.B.listen(q.C,"click",q.annotation.style==="cta"&&J.text_line_3?q.RV:q.As,q);t.appendChild(q.C);g.H1(q.by(),x);v&&(g.q0(q.by(),v),Y&&v.appendChild(Y));g.q0(q.by(),q.L);g.q0(q.by(),t)},b2N=function(q,J,t){t.stopPropagation();
O2N(q);Fm0(q,J);q.B.focus()},EDa=function(q){q.isCollapsed||q.W||q.Y||(g.iI(q.by(),"iv-promo-collapsed"),q.isCollapsed=!0,q.V.start())},O2N=function(q){q.V.stop();
q.isCollapsed&&(g.R4(q.by(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),q.isCollapsed=!1,q.B&&q.B.removeAttribute("aria-hidden"),g.lP(q.D,!1),g.lP(q.C,!0))},Fm0=function(q,J){q.Y||(q.Y=g.h9(function(){cct(this);
EDa(this)},J,q))},cct=function(q){q.Y&&(g.uB.clearTimeout(q.Y),q.Y=null)},M0u=function(q){this.K=q},zA5=function(q,J,t){J&&(t?kq(q,J.map(function(x){return g.Q$(x,t)})):kq(q,J))},kq=function(q,J,t,x){var k=1,H=void 0,v=-1;
if(t){var r=!1;H=function(){k--;k||r||(clearTimeout(v),r=!0,t())};
v=setTimeout(function(){r=!0;t()},1E3)}J=g.M(J||[]);
for(var C=J.next();!C.done;C=J.next())C=C.value,k++,g.T0(C,H);x&&(k++,x!==0&&q.K.sendVideoStatsEngageEvent(x,H))},oDQ=function(q){g.bw.call(this,q);
var J=this;this.nC=this.W=!1;this.loadNumber=0;this.N={};this.logger=new M0u(this.player);this.Y=new g.hp(this);this.V=this.L=null;this.events=new g.hp(this);this.CR=this.X=this.B=null;this.s4=[];g.W(this,this.Y);this.Y.S(this.player,"onVideoAreaChange",function(){J.publish("onVideoAreaChange")});
this.Y.S(this.player,"onHideControls",function(){J.publish("onHideControls")});
this.Y.S(this.player,"onShowControls",function(){J.publish("onShowControls")});
this.Y.S(this.player,"resize",function(x){J.publish("resize",x)});
this.Y.S(this.player,"presentingplayerstatechange",function(x){J.publish("presentingplayerstatechange",x)});
this.subscribe("presentingplayerstatechange",this.im,this);this.subscribe("resize",this.dG,this);this.player.U().zM.subscribe("vast_info_card_add",this.LT,this);g.W(this,this.events);this.xZ=this.createElement({j:"div",J:"video-custom-annotations"});this.D=new g.l({j:"div",MW:["ytp-player-content","ytp-iv-player-content"]});g.W(this,this.D);g.I8(this.player,this.D.element,4);this.D.hide();this.C=new g.l({j:"div",MW:["ytp-iv-video-content"]});g.W(this,this.C);q=this.createElement({j:"div",J:"video-annotations"});
q.appendChild(this.xZ);this.C.element.appendChild(q);this.G$()&&this.load();var t=this.createElement({j:"style"});(g.d7("HEAD")[0]||document.body).appendChild(t);this.addOnDisposeCallback(function(){g.xT(t)});
if(q=t.sheet)q.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),q.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),q.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),q.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),q.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),q.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),q.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),q.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),q.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),q.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},gDx=function(q){q=q.createElement({j:"div",
MW:["annotation","annotation-type-custom"]});g.lP(q,!1);return q},yc5=function(q,J){J=!J.isCued()&&!g.w(J,1024);
q.D.g7(J);q.C.g7(J)},p5o=function(q,J,t){q.W=!0;
q.V=g.sK(J,t)},sht=function(q,J){for(var t={},x=g.M(J.attributes),k=x.next();!k.done;k=x.next())k=k.value,t[k.name]=k.nodeValue;
for(x=0;x<J.childNodes.length;x++)if(k=J.childNodes[x],g.JN(k)&&k.nodeType==1){if(t[k.tagName])var H=t[k.tagName];else if(k.tagName==="data"){k.childNodes.length>0&&(H=k.childNodes[0].nodeValue,t[k.tagName]=typeof H==="string"?H.trim():H);continue}else H=[],t[k.tagName]=H;k&&k.tagName==="TEXT"?k.childNodes.length===1&&k.childNodes[0].nodeType===3?H.push(k.childNodes[0].nodeValue):H.push(""):k&&H.push(sht(q,k))}return t},Z2o=function(q){var J=g.T(q.player.getVideoData());
if(J.qW){var t=q.player.U().zM.get(J.videoId);if(t){var x={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(k,H,v){k=q.loadNumber;H=J.videoId;q.loaded&&q.loadNumber===k&&q.player.getVideoData().videoId===H&&(v=g.bH(v)&&v.responseXML?v.responseXML:null)&&SB5(q,v)}};
g.qE()&&(x.onFinish=DHN(q,x.onFinish));x.postParams={ic_only:"1"};nDa(x,t);q.W=!0;g.sK(J.qW,x)}}},nDa=function(q,J){q.method="POST";
q.postParams=q.postParams||{};J.zQ&&(q.postParams.ic_coll=J.zQ);J.ai&&(q.postParams.ic_xml=J.ai);J.vM&&(q.postParams.ic_track=J.vM)},Qho=function(q){var J=new g.l({j:"div"});
g.lP(J.element,!1);var t=new LKP(q.player,J.element,iX(q));g.W(t,J);J.er(q.D.element);t.hS();return t},Act=function(q,J){var t,x;
if(J=(t=J.getWatchNextResponse())==null?void 0:(x=t.cards)==null?void 0:x.cardCollectionRenderer)q.nC=!0,Blu(q,J),J.headerText&&q.CR&&(t=g.OL(J.headerText),q.CR.setAttribute("title",t))},iX=function(q){if(!q.X){var J=new NEQ(q);
g.W(q,J);var t=new g.m8(q);g.W(q,t);q.X=new YBZ(J,t,q.player.U(),q.player.getVideoData(),q.logger,q.player,q.nI)}return q.X},SB5=function(q,J){var t=!1,x=J.getElementsByTagName("annotations");
if(x&&!(x.length<1)&&(x=x[0].getAttribute("itct"))){var k=g.sH();if(k){var H=g.pD();H&&g.zD(g.eN)(void 0,k,H,[g.gK(x)])}}J=J.getElementsByTagName("annotation");for(x=0;x<J.length;x++){H=sht(q,J[x]);k=null;try{if(H){var v=H.id,r=/.+/;var C=typeof v==="string"&&r!=null&&v!=null&&v.match(r)?v:"";var Y=j2(H.type,$HN),N=j2(H.style,IRu),b=ZEu(H.data),m=b.length!==0?JSON.parse(b):{};var O=H.action;H=hAZ;if(O==null)var F=null;else if(g.qZ(O)){r=[];for(var y=g.M(O),p=y.next();!p.done;p=y.next()){var n=H(p.value);
n&&r.push(n)}F=r}else{var D=H(O);F=D?[D]:[]}k=C&&Y?new XzB(C,Y,N,F,m):null}else k=null}catch(x4){}if(k)if(k.type==="branding"||k.type==="promotion"){H=q;r=k;var h=gDx(H),X=null;switch(r.type){case "branding":if(H.player.U().PW)break;H.D.element.appendChild(h);X=new xq(h,iX(H),r);break;case "promotion":g.I8(H.player,h,4),X=new NlB(h,iX(H),r)}X&&X.hS();if(H=X)g.W(q,H),q.N[k.id]=H}else if(k.type==="card"||k.type==="drawer"){q.B||(q.B=Qho(q),g.W(q,q.B));if(k.type==="card"){h=q.B;var d=(t=k)&&t.data&&
t.data.card_type;k=t.data;if(d)switch(H=k.tracking||{},H={AC:H.impression,click:H.click,close:H.close,It:H.teaser_impression,S5:H.teaser_click},r=k.tracking_params||{},X=null,d){case "collaborator":t={id:t.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,s9:H,m5:r.card?g.gK(r.card):null,SS:r.teaser?g.gK(r.teaser):null,a7:r.icon?g.gK(r.icon):
null,channelId:k.channel_id,customMessage:k.custom_message?k.custom_message:null,profileImageUrl:k.image_url,title:k.title,metaInfo:k.meta_info,url:Wj({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url}),onClickCommand:null};zi(h,t);break;case "playlist":t={id:t.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,s9:H,
m5:r.card?g.gK(r.card):null,SS:r.teaser?g.gK(r.teaser):null,a7:r.icon?g.gK(r.icon):null,AS:k.image_url,playlistVideoCount:k.playlist_video_count,customMessage:k.custom_message?k.custom_message:null,title:k.title,metaInfo:k.meta_info,url:g.T(Wj({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url})),onClickCommand:null};zi(h,t);break;case "productListing":k.signin_url&&(X=Wj({target:"current",value:k.signin_url}));d=[];for(var z=k.offers||[],u=0;u<z.length;u++)d.push(new WKo(g.cE(z[u].merchant),
g.cE(z[u].price)));t={id:t.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,s9:H,m5:r.card?g.gK(r.card):null,SS:r.teaser?g.gK(r.teaser):null,a7:r.icon?g.gK(r.icon):null,imageUrl:k.image_url,displayDomain:k.display_domain?k.display_domain:null,showLinkIcon:!!k.show_link_icon,Gx:k.button_icon_url?k.button_icon_url:null,title:k.title,customMessage:k.custom_message?
k.custom_message:null,url:g.T(Wj({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url})),YJM:X,xnw:k.signin_title?k.signin_title:void 0,ufO:k.signin_message?k.signin_message:void 0,offers:d,onClickCommand:null};zi(h,t);break;case "simple":t={id:t.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,s9:H,m5:r.card?g.gK(r.card):
null,SS:r.teaser?g.gK(r.teaser):null,a7:r.icon?g.gK(r.icon):null,imageUrl:k.image_url,displayDomain:k.display_domain?k.display_domain:null,showLinkIcon:!!k.show_link_icon,Gx:k.button_icon_url?k.button_icon_url:null,title:k.title,customMessage:k.custom_message?k.custom_message:null,url:g.T(Wj({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url})),onClickCommand:null};zi(h,t);break;case "video":t={id:t.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,
startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,s9:H,m5:r.card?g.gK(r.card):null,SS:r.teaser?g.gK(r.teaser):null,a7:r.icon?g.gK(r.icon):null,AS:k.image_url,videoDuration:k.video_duration||null,customMessage:k.custom_message?k.custom_message:null,title:k.title,metaInfo:k.meta_info,isLiveNow:!!k.is_live_now,url:g.T(Wj({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url})),onClickCommand:null},zi(h,t)}}else loa(q.B,k);t=!0}}t&&
(sn(q.player),q.dG())},Blu=function(q,J){var t=!1;
q.B||(q.B=Qho(q),g.W(q,q.B));for(var x=g.M(J.cards||[]),k=x.next();!k.done;k=x.next())k=k.value,k.cardRenderer&&(uvD(q.B,k.cardRenderer),t=!0);if(t){var H;(H=q.player.getVideoData())!=null&&g.A1(H)||(t=q.B,x=J.headerText?g.OL(J.headerText):"",g.ir(t.BK,x),t.W&&t.W.setAttribute("title",x),t.context.videoData.eventId&&(t.eventId=t.context.videoData.eventId),t.cj=J.trackingParams?g.gK(J.trackingParams):null,t.L=J.closeButton.infoCardIconRenderer.trackingParams?g.gK(J.closeButton.infoCardIconRenderer.trackingParams):
null,t.a7=J.icon.infoCardIconRenderer.trackingParams?g.gK(J.icon.infoCardIconRenderer.trackingParams):null,q.dG());sn(q.player)}},hso=function(q,J,t,x,k){if(!q.player.U().PW){var H=[];
J.navigationEndpoint&&g.f(J.navigationEndpoint,g.s$)&&g.f(J.navigationEndpoint,g.s$).browseId&&H.push(new AMx("openUrl","click",new QTB("/channel/"+g.f(J.navigationEndpoint,g.s$).browseId,"new",!0,!0)));var v=J.watermark.thumbnails[0];x={channel_name:J.channelName,end_ms:J.endTimeMs,image_height:v.height,image_type:1,image_url:v.url,image_width:v.width,is_mobile:!1,session_data:{annotation_id:t,ei:k,feature:"iv",itct:J.trackingParams,src_vid:x},start_ms:J.startTimeMs};if(J.subscribeButton&&g.f(J.subscribeButton,
g.SW)){x.channel_id=g.f(J.subscribeButton,g.SW).channelId;var r;J=g.f(J.subscribeButton,g.SW);v=k=null;J.subscribed?(J.subscriberCountWithUnsubscribeText&&(k=g.OL(J.subscriberCountWithUnsubscribeText)),J.subscriberCountText&&(v=g.OL(J.subscriberCountText))):(J.subscriberCountText&&(k=g.OL(J.subscriberCountText)),J.subscriberCountWithSubscribeText&&(v=g.OL(J.subscriberCountWithSubscribeText)));var C,Y=((C=g.f((r=J.signInEndpoint)==null?void 0:r.commandMetadata,g.E8))==null?void 0:C.url)||"";r={subscribeText:g.OL(J.unsubscribedButtonText),
subscribeCount:k||"",unsubscribeText:g.OL(J.subscribedButtonText),unsubscribeCount:v||"",enabled:J.enabled||!1,classic:!1,subscribed:J.subscribed||!1,feature:"iv",signInUrl:Y};x.standalone_subscribe_button_data=r}H=new XzB(t,"branding","branding",H,x);r=gDx(q);q.D.element.appendChild(r);H=new xq(r,iX(q),H);H.hS();g.W(H,H);q.N[t]=H}},DHN=function(q,J){return function(){var t=g.PC.apply(0,arguments);
q.pC()||q.s4.push(g.jH.Po(function(){J.apply(null,g.Z(t))}))}},X5B=function(q){return q==="annotation-editor"||q==="live-dashboard"};
g.SQ.prototype.pG=g.HC(45,function(q,J){var t=g.ZD(this.xo());t&&t.pG(q,J)});
var Dh={},nd=null;g.CN(QD,g.CK);g.E=QD.prototype;g.E.getDuration=function(){return this.duration};
g.E.play=function(q){if(q||this.B==0)this.progress=0,this.coords=this.D;else if(this.isPlaying())return!1;Zh(this);this.startTime=q=g.vt();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.Y=this.startTime;this.progress||this.k_();this.Fm("play");this.isPaused()&&this.Fm("resume");this.B=1;var J=g.x5(this);J in Dh||(Dh[J]=this);iEV();HEa(this,q);return!0};
g.E.stop=function(q){Zh(this);this.B=0;q&&(this.progress=1);vfN(this,this.progress);this.onStop();this.ll()};
g.E.pause=function(){this.isPlaying()&&(Zh(this),this.B=-1,this.Fm("pause"))};
g.E.CC=function(){this.B==0||this.stop(!1);this.Fm("destroy");QD.Xv.CC.call(this)};
g.E.destroy=function(){this.dispose()};
g.E.Mp=function(){this.Fm("animate")};
g.E.Fm=function(q){this.dispatchEvent(new RA0(q,this))};
g.CN(RA0,g.lJ);g.CN(Bj,QD);Bj.prototype.C=function(){};
Bj.prototype.Mp=function(){this.C();Bj.Xv.Mp.call(this)};
Bj.prototype.ll=function(){this.C();Bj.Xv.ll.call(this)};
Bj.prototype.k_=function(){this.C();Bj.Xv.k_.call(this)};
g.CN(rMu,Bj);rMu.prototype.C=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.c(NEQ,g.K);g.E=NEQ.prototype;g.E.listen=function(q,J,t,x){t=(0,g.k5)(t,x||this.D);q=g.gL(q,J,t);this.B.push(q);return q};
g.E.Rq=function(q,J,t,x){t=(0,g.k5)(t,x||this.D);q=xeQ(q,J,t);this.B.push(q);return q};
g.E.h5=function(q){g.ye(q);g.MZ(this.B,q)};
g.E.removeAll=function(){g.ye(this.B);this.B.length=0};
g.E.CC=function(){this.removeAll();g.K.prototype.CC.call(this)};g.c(OEQ,g.bw);g.E=OEQ.prototype;g.E.load=function(){g.bw.prototype.load.call(this);if(!Id(this)){var q=g.sei(this.player.getVideoData());q?(q=meP(q,FKV(this)),hE(this,q,!1)):Efo(this)}};
g.E.unload=function(){hE(this,null);this.Y&&(this.Y.abort(),this.Y=null);g.bw.prototype.unload.call(this)};
g.E.aR=function(q,J){return Id(this)?q==="loadCustomEndscreenRenderer"?(q=meP(J,"new"),hE(this,q),!0):null:null};
g.E.getOptions=function(){return Id(this)?["loadCustomEndscreenRenderer"]:[]};
g.E.vK=function(){if(this.endscreen&&this.endscreen.elements){var q=this.player.getVideoContentRect();if(q&&q.width!==0&&q.height!==0){var J=this.player.getPlayerSize();if(J&&J.width!==0&&J.height!==0){var t=q.width/q.height;var x=0;for(var k=-1,H=0;H<PuV.length;H++){var v=Math.abs(J.width-PuV[H]);if(k===-1||x>=v)k=H,x=v}x=UHD[k];this.C&&g.h5(this.C.element,"outline-width",Math.max(J.width,J.height)+"px");for(J=0;J<this.endscreen.elements.length;++J)if(H=this.endscreen.elements[J].id,k=this.D[H],
v=this.N[H],k&&v){var r=v.width*t/v.aspectRatio,C=Math.round(v.width*q.width);H=Math.round(r*q.height);var Y=q.left+Math.round(v.left*q.width),N=q.top+Math.round(v.top*q.height);g.eL(k.element,C,H);g.KL(k.element,Y,N);g.R4(k.element,TlN);C>256||H>256?g.iI(k.element,"ytp-ce-large-round"):C>96||H>96?g.iI(k.element,"ytp-ce-medium-round"):g.iI(k.element,"ytp-ce-small-round");g.R4(k.element,jhD);C=v.left+v.width/2;v=v.top+r/2;g.iI(k.element,C<=.5&&v<=.5?"ytp-ce-top-left-quad":C>.5&&v<=.5?"ytp-ce-top-right-quad":
C<=.5&&v>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.R4(k.element,UHD);g.iI(k.element,x);(k=g.ed(document,"div","ytp-ce-expanding-overlay-body",k.element)[0])&&g.h5(k,"height",H+"px")}}}}};
g.E.onCueRangeEnter=function(q){if(this.endscreen)if(q.getId()==="ytp-ce-in-endscreen")Ti(this,this.endscreen.impressionUrls),(q=g.sH())&&this.endscreen.visualElement&&g.Jl(q,this.endscreen.visualElement),this.B&&(g.iI(this.B,"ytp-ce-element-show"),this.B.removeAttribute("aria-hidden"),this.player.B5()?g.iI(this.B,"ytp-ce-hide-button-lower"):g.v1(this.B,"ytp-ce-hide-button-lower"));else{q=q.getId().substring(15);var J=this.D[q],t=this.N[q];g.iI(J.element,"ytp-ce-element-show");J.element.removeAttribute("aria-hidden");
J=this.player.getRootNode();g.iI(J,"ytp-ce-shown");Ti(this,t.impressionUrls);(J=g.sH())&&g.Jl(J,t.visualElement);this.player.U().W&&this.player.Sr("endscreenelementshown",q)}};
g.E.onCueRangeExit=function(q){if(q.getId()==="ytp-ce-in-endscreen")this.B&&(g.v1(this.B,"ytp-ce-element-show"),this.B.setAttribute("aria-hidden","true"));else{q=q.getId().substring(15);var J=this.D[q];g.v1(J.element,"ytp-ce-element-show");J.element.setAttribute("aria-hidden","true");J=this.player.getRootNode();g.v1(J,"ytp-ce-shown");this.player.U().W&&this.player.Sr("endscreenelementhidden",q)}};
g.E.RZ_=function(q){var J=this;q.target===window&&(new g.wG(function(){for(var t=g.M(Object.values(J.D)),x=t.next();!x.done;x=t.next())g.R4(x.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.E.g7=function(q){for(var J=g.M(Object.values(this.D)),t=J.next();!t.done;t=J.next())t=t.value,q?t.element.setAttribute("hidden",""):t.element.removeAttribute("hidden")};
g.E.Xz_=function(q){this.B&&this.player.getRootNode().removeChild(this.B);q&&(g.iI(q,"ytp-ce-hide-button-container"),this.B=q,g.I8(this.player,this.B,4))};
var PuV=[346,426,470,506,570,640,853,1280,1920],UHD="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),jhD=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],TlN=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var BEQ={lwj:"current",Rll:"new"};var $eP={CLOSE:"close",Lwj:"openUrl",SUBSCRIBE:"subscribe"},IoQ={tC_:"click",CLOSE:"close",sJ_:"hidden",Pq_:"rollOut",N38:"rollOver",JR$:"shown"};XzB.prototype.z0=function(){var q=P1x(this,function(J){return J.type==="openUrl"&&J.url!=null});
return q?q.url:null};
var IRu={Sym:"anchored",EF:"branding",CHANNEL:"channel",kXj:"cta",COw:"highlightText",w5X:"label",PLAYLIST:"playlist",POPUP:"popup",Z04:"speech",SUBSCRIBE:"subscribe",j5W:"title",VIDEO:"video",wfZ:"website"},$HN={EF:"branding",poW:"card",eiC:"drawer",DeM:"highlight",bh$:"marker",YTr:"promotion",TEXT:"text",pAC:"widget"};g.c(Ld,g.K);g.E=Ld.prototype;g.E.addCueRange=function(q,J,t,x,k){q=new g.aH(q,J,{id:t,namespace:"annotations_module"});x&&this.LC.set(q,x);k&&this.Jl.set(q,k);this.context.K.Ln([q],1)};
g.E.hS=function(){this.context.D.subscribe("resize",this.Qp,this)};
g.E.by=function(){return this.element};
g.E.zf=function(q,J,t,x,k,H){if(this.TM)return!1;H&&(H.stopPropagation(),H.preventDefault());this.navigate(q,t,x,k);return!1};
g.E.show=function(){};
g.E.hide=function(){};
g.E.destroy=function(){g.xT(this.by())};
g.E.Qp=function(){};
g.E.navigate=function(q,J,t,x){var k=this,H=Kd(q);if(H){var v=foN(H,q.target),r=function(){q.B&&k.context.K.pauseVideo();var C=k.context.videoData.R7||!1,Y=g.xm(H||"");C&&Y&&(Y.v||Y.list)?k.context.K.g3(Y.v,J,Y.list,!1):g.Wl(H||"",v==="current"?"_top":void 0,J)};
v==="new"&&(r(),r=null);kq(this.context.logger,t,r,x);dex(H)||(t=g.sH(),x=J.itct,t&&x&&g.kX(t,g.gK(x)))}};
g.E.CC=function(){this.LC.clear();this.Jl.clear();g.K.prototype.CC.call(this)};
g.E.createElement=function(q){q=new g.l(q);g.W(this,q);return q.element};g.c(LKP,Ld);g.E=LKP.prototype;g.E.HX=function(){this.s4&&zi(this,this.s4)};
g.E.isAvailable=function(){var q;if(q=!!this.cards.length)(q=this.K.getRootNode())?(q=g.LL(q),q=173<q.width&&173<q.height):q=!1;return q};
g.E.Qp=function(){var q=this.isAvailable();g.lP(this.by(),q);g.rf(this.context.K.getRootNode(),g.Vr.IV_DRAWER_ENABLED,q);sn(this.K)};
g.E.destroy=function(){this.K.pG(!1);try{this.K.getRootNode().removeChild(this.Y)}catch(q){}g.kL(this.nC);g.Zw(this.qW);this.NW&&this.NW.dispose();this.V&&this.V.dispose();Ld.prototype.destroy.call(this)};
g.E.k5=function(){var q=this;this.context.B.listen(g.Lq("iv-drawer-close-button",this.Y),"click",this.P_,this);this.context.B.listen(this.D,"touchend",function(){q.Qw.start()});
this.context.B.listen(this.D,"scroll",this.Bq,this);this.context.D.subscribe("onHideControls",function(){q.zM=!0});
this.context.D.subscribe("onShowControls",function(){q.zM=!1});
this.context.D.subscribe("onVideoAreaChange",function(){q.zM=g.ki(q.K.getRootNode(),"ytp-autohide")});
this.nC.push(g.xL("iv-button-shown",this.CX_,this));this.nC.push(g.xL("iv-button-hidden",this.DWM,this));aoP(this)};
g.E.findLastIndex=function(q){if(this.cards.length===0)return 0;var J=g.Oo(this.cards,function(t){return q.G_.startMs>t.G_.startMs||q.G_.startMs===t.G_.startMs&&q.G_.timestamp>=t.G_.timestamp?!0:!1});
return J===-1?0:J+1};
g.E.P_=function(){if(this.C){kq(this.context.logger,J_(this).s9.close);var q=g.sH();q&&this.L&&g.kX(q,this.L);VD(this)}};
g.E.Bq=function(){g.rf(this.Y,"iv-drawer-scrolled",this.D.scrollTop>0)};
g.E.CX_=function(){var q=g.sH(),J=J_(this);J=J?J.a7:this.a7;q&&J&&g.tl(q,[J])};
g.E.DWM=function(){var q=g.sH(),J=J_(this);J=J?J.a7:this.a7;q&&J&&g.xX(q,[J])};
g.E.s5=function(){var q=J_(this);kq(this.context.logger,q.s9.It);var J=g.sH();if(J&&q)if(this.K.G("web_infocards_teaser_show_logging_fix")){var t=[];q.SS&&t.push(q.SS);q.a7&&t.push(q.a7);t.length>0&&g.tl(J,t)}else g.tl(J,[q.SS,q.a7])};
g.E.u_C=function(){var q=g.sH(),J=J_(this);q&&J&&g.xX(q,[J.SS])};
g.E.nZ=function(q){var J=J_(this),t=g.sH();this.B?q?(q=this.context.logger,kq(q,J.s9.S5),q.K.sendVideoStatsEngageEvent(4,void 0),t&&J.SS&&g.kX(t,J.SS)):(q=this.context.logger,kq(q,J.s9.S5),q.K.sendVideoStatsEngageEvent(4,void 0),t&&J.a7&&g.kX(t,J.a7)):(q=this.context.logger,kq(q,J.s9.S5),q.K.sendVideoStatsEngageEvent(4,void 0),t&&this.a7&&g.kX(t,this.a7))};g.c(t_,Ld);t_.prototype.hS=function(){Ld.prototype.hS.call(this);H2Q(this)};
t_.prototype.show=function(){Ld.prototype.show.call(this);var q=g.sH(),J=this.annotation.data;q&&J&&(J=J.session_data)&&g.tl(q,[g.gK(J.itct)])};
t_.prototype.hide=function(){Ld.prototype.hide.call(this);var q=g.sH(),J=this.annotation.data;q&&J&&(J=J.session_data)&&g.xX(q,[g.gK(J.itct)])};g.c(xq,t_);
xq.prototype.show=function(){if(!this.isActive){t_.prototype.show.call(this);if(!this.L){g.iI(this.by(),"iv-branding");var q=this.annotation.data;this.D=this.createElement({j:"img",MW:["branding-img","iv-click-target"],Z:{"aria-label":"Channel watermark",src:q.image_url,width:q.image_width,height:q.image_height}});g.lP(this.D,!1);var J=this.createElement({j:"button",MW:["branding-img-container","ytp-button"]});J.appendChild(this.D);this.by().appendChild(J);var t=this.annotation.z0();t&&lS(this,J,
t,this.annotation.id,q.session_data);this.context.K.G("disable_branding_context")||Cuo(this,q);this.L=!0}g.lP(this.by(),!0);this.isActive=!0;if(this.D){try{vDu(this,this.D)}catch(x){}g.iI(this.context.K.getRootNode(),"ytp-branding-shown");this.context.K.getRootNode().style.setProperty("--branding-image-width",this.D.getAttribute("width")+"px")}}};
xq.prototype.hide=function(){this.isActive&&(t_.prototype.hide.call(this),g.lP(this.by(),!1),this.isActive=!1,g.v1(this.context.K.getRootNode(),"ytp-branding-shown"))};
xq.prototype.destroy=function(){this.B&&(this.B.dispose(),this.B=null);g.v1(this.context.K.getRootNode(),"ytp-branding-shown");t_.prototype.destroy.call(this)};g.c(NlB,t_);g.E=NlB.prototype;g.E.show=function(){this.isActive||(t_.prototype.show.call(this),this.X||(mHu(this),this.X=!0),g.lP(this.by(),!0),g.h9(function(){g.v1(this.by(),"iv-promo-inactive")},100,this),this.by().removeAttribute("aria-hidden"),this.isActive=!0,cct(this),O2N(this),Fm0(this,this.N))};
g.E.hide=function(){this.isActive&&(g.iI(this.by(),"iv-promo-inactive"),this.isActive=!1,this.by().setAttribute("aria-hidden","true"))};
g.E.zf=function(q,J,t,x,k,H){return this.isCollapsed?!1:t_.prototype.zf.call(this,q,J,t,x,k,H)};
g.E.vD=function(q){this.W=!0;b2N(this,500,q)};
g.E.Gl=function(){this.W=!1;EDa(this)};
g.E.As=function(q){q.stopPropagation();this.hide()};
g.E.RV=function(q){q.stopPropagation();cct(this);this.isCollapsed=!0;g.iI(this.by(),"iv-promo-collapsed-no-delay");this.V.start()};
g.E.destroy=function(){this.V.dispose();t_.prototype.destroy.call(this)};g.c(oDQ,g.bw);g.E=oDQ.prototype;g.E.aR=function(q,J){if(!X5B(this.player.U().playerStyle))return null;switch(q){case "loadCustomAnnotationsXml":return(q=g.l9(J))&&SB5(this,q),!0;case "removeCustomAnnotationById":return J&&this.B&&(V9N(this.B,J),sn(this.player)),!0}return null};
g.E.getOptions=function(){return X5B(this.player.U().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.E.G$=function(){var q=this.player.U(),J=g.T(this.player.getVideoData()),t=q.annotationsLoadPolicy||J.annotationsLoadPolicy;return g.Vd(J)||this.player.isMutedByEmbedsMutedAutoplay()?!1:t===1&&!J.wM||q.zM.get(J.videoId)||g.$J(J)||g.IR(J)?!0:!1};
g.E.dG=function(){if(this.C){var q=this.player.Wj().getVideoContentRect(!0);g.eL(this.C.element,q.width,q.height);g.KL(this.C.element,q.left,q.top)}if(this.B){var J=this.player.z6();q=this.B;J=J.width;g.rf(q.Y,"iv-drawer-small",J<=426);g.rf(q.Y,"iv-drawer-big",J>=1280)}};
g.E.im=function(q){yc5(this,q.state);g.w(q.state,2)&&(this.B5()&&this.Rj()&&this.player.getPresentingPlayerType()!==2&&this.ID(!1),this.pG(!1))};
g.E.load=function(){function q(v){var r=J.loadNumber;J.V=null;J.loaded&&J.loadNumber===r&&J.player.getVideoData().videoId===x&&(v=g.bH(v)&&v.responseXML?v.responseXML:null)&&(SB5(J,v),g.iI(J.player.getRootNode(),"iv-module-loaded"))}
var J=this;g.bw.prototype.load.call(this);yc5(this,this.player.getPlayerStateObject());this.loadNumber++;var t=g.T(this.player.getVideoData()),x=t.videoId;g.qE()&&(q=DHN(this,q));var k={format:"XML",onFinish:q,onError:function(){J.V=null},
urlParams:{}};t.isPharma&&(k.urlParams.pharma="1");k.method="POST";k.withCredentials=!0;var H=this.player.U().zM.get(x);H&&nDa(k,H);H=H&&(H.ai||H.zQ);if(!t.Dp||H)t.qW?p5o(this,t.qW,k):(this.L=function(){if(!J.W)J.onVideoDataChange(k);var v=g.T(J.player.getVideoData());(v==null?0:g.A1(v))&&!J.nC&&Act(J,v)},this.player.addEventListener("videodatachange",this.L));
g.I8(this.player,this.C.element,4);this.dG();(H=g.$J(t))&&Blu(this,H);(H=g.IR(t))&&H.featuredChannel&&hso(this,H.featuredChannel,H.annotationId||"branding",t.videoId||null,t.eventId||null);this.CR=g.Lq("ytp-cards-button",this.player.getRootNode());g.A1(t)&&Act(this,t)};
g.E.onVideoDataChange=function(q){var J=g.T(this.player.getVideoData());J.qW&&p5o(this,J.qW,q)};
g.E.unload=function(){this.player.Fl("annotations_module");for(var q=g.M(Object.keys(this.N)),J=q.next();!J.done;J=q.next())this.N[J.value].destroy();this.X=null;this.B&&(this.B.destroy(),this.B=null,sn(this.player));this.W=!1;this.V&&(this.V.abort(),this.V=null);this.nC=!1;this.N={};this.D.hide();g.bw.prototype.unload.call(this);this.C.detach();this.L&&(this.player.removeEventListener("videodatachange",this.L),this.L=null)};
g.E.LT=function(q){q===this.player.getVideoData().videoId&&(this.loaded?Z2o(this):this.load())};
g.E.B5=function(){var q;return((q=this.B)==null?void 0:q.isAvailable())||this.nC};
g.E.Rj=function(){return!!this.B&&this.B.C};
g.E.ID=function(q,J,t){J=J===void 0?!1:J;this.B5();this.B&&(q?t?wz(this.B,t,J):wz(this.B,"YOUTUBE_DRAWER_AUTO_OPEN",J):VD(this.B))};
g.E.pG=function(q,J){this.player.publish(q?"cardsteasershow":"cardsteaserhide",J)};
g.E.CC=function(){this.player.U().zM.unsubscribe("vast_info_card_add",this.LT,this);g.v1(this.player.getRootNode(),g.Vr.IV_DRAWER_OPEN);for(var q=this.s4,J=g.jH,t=0,x=q.length;t<x;t++)J.iO(q[t]);this.s4.length=0;g.bw.prototype.CC.call(this)};
g.E.createElement=function(q){q=new g.l(q);g.W(this,q);return q.element};g.Nm("annotations_module",oDQ);g.Nm("creatorendscreen",OEQ);})(_yt_player);
